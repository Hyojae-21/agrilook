(()=>{var e={};e.id=278,e.ids=[278],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},824:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>m,routeModule:()=>p,tree:()=>d}),s(4274),s(4403),s(996);var r=s(170),a=s(5002),l=s(3876),i=s.n(l),n=s(6299),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["chatbot",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4274)),"C:\\Users\\10\\Desktop\\front\\agrilook\\app\\chatbot\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4403)),"C:\\Users\\10\\Desktop\\front\\agrilook\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,996,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\10\\Desktop\\front\\agrilook\\app\\chatbot\\page.tsx"],c="/chatbot/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/chatbot/page",pathname:"/chatbot",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9252:(e,t,s)=>{Promise.resolve().then(s.bind(s,7158))},7158:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(7247),a=s(8964),l=s(9261),i=s(8053),n=s(6991),o=s(7757),d=s(8388),m=s(4597),c=s(8920);function x(){let[e,t]=(0,a.useState)([{id:2,text:"지금 내 토양에 어떤 비료를 쓰는 게 좋아?",isUser:!0,timestamp:new Date},{id:3,text:`안녕하세요, 김농부님! 농장에 있는 토마토 비료 처방 정보를 정리해 드릴게요.

### 토마토 비료 처방 정보

| 구분 | 비료 이름 | 성분 (%) | 규격 (kg/봉지) |
|------|-----------|----------|----------------|
| 밑거름 | 고추특호 | N 12, P₂O₅ 6, K₂O 5 | 20 |
| 밑거름 | 고추전용 | N 11, P₂O₅ 6, K₂O 8 | 20 |
| 밑거름 | 대풍PNS15(원예) | N 13, P₂O₅ 6, K₂O 6 | 15 |
| 웃거름 | 맞춤추비29호 | N 13, P₂O₅ 0, K₂O 10 | 20 |
| 웃거름 | 납작이 | N 13, P₂O₅ 0, K₂O 12 | 20 |
| 웃거름 | 빠른N | N 13, P₂O₅ 0, K₂O 13 | 20 |

👉 위 표는 김농부 님이 설정한 농지 면적에 맞춘 비료 처방량입니다.`,isUser:!1,timestamp:new Date},{id:4,text:"비료 줄 때 주의해야 할 점도 알려줄래?",isUser:!0,timestamp:new Date},{id:5,text:`물론입니다, 김농부님! 비료 시비 시 주의사항을 정리해 드릴게요.
적정량 준수: 과다/부족 시 작물 생육에 문제 발생
시기 지키기: 밑거름\xb7추비 시기를 놓치지 말기
비료 혼합 주의: 성분 반응으로 효과 손실 가능
토양 검사: 현재 pH 6.5, 유기물 22% → 다음 시비 전 재검 추천
환경 주의: 빗물에 씻겨 수질 오염 위험 → 물 빠짐 좋은 밭은 조심
보관: 환기 잘되는 그늘에 두고 습기\xb7건조 주의`,isUser:!1,timestamp:new Date}]),[s,x]=(0,a.useState)(""),[p,u]=(0,a.useState)(!1),h=(0,a.useRef)(null),f=e=>{let t=e.split("\n"),s=[],a=0;for(;a<t.length;){let e=t[a].trim();if(0===e.length){a+=1;continue}if(e.startsWith("### ")){s.push(r.jsx("div",{className:"font-semibold text-sm md:text-base mt-2 mb-1",children:e.replace(/^###\s+/,"")},`h3-${a}`)),a+=1;continue}if(e.startsWith("|")){let e=[];for(;a<t.length&&t[a].trim().startsWith("|");)e.push(t[a].trim()),a+=1;if(e.length>=2){let t=e[0].split("|").map(e=>e.trim()).filter(e=>e.length>0),l=e.slice(1).filter(e=>!/^\|?\s*[-: ]+\s*(\|\s*[-: ]+\s*)+\|?$/.test(e));s.push(r.jsx("div",{className:"overflow-x-auto my-2",children:(0,r.jsxs)("table",{className:"w-full border-collapse text-[11px] md:text-sm",children:[r.jsx("thead",{children:r.jsx("tr",{children:t.map((e,t)=>r.jsx("th",{className:"border px-2 py-1 bg-muted/50 text-left",children:e},`th-${t}`))})}),r.jsx("tbody",{children:l.map((e,t)=>{let s=e.split("|").map(e=>e.trim()).filter(e=>e.length>0);return r.jsx("tr",{children:s.map((e,s)=>r.jsx("td",{className:"border px-2 py-1 align-top",children:e},`td-${t}-${s}`))},`tr-${t}`)})})]})},`table-${a}`));continue}}let l=[];for(;a<t.length&&t[a].trim().length>0&&!t[a].trim().startsWith("|");)l.push(t[a]),a+=1;l.length>0&&s.push(r.jsx("div",{className:"whitespace-pre-wrap text-xs md:text-sm leading-snug",children:l.join("\n")},`p-${a}`))}return r.jsx(r.Fragment,{children:s})},g=async()=>{if(!s.trim()||p)return;let r={id:e.length+1,text:s,isUser:!0,timestamp:new Date};t(e=>[...e,r]),x(""),u(!0);try{let r=await c.E.sendChatMessage(s),a={id:e.length+2,text:r.answer,isUser:!1,timestamp:new Date};t(e=>[...e,a])}catch(r){console.error("챗봇 API 호출 오류:",r);let s={id:e.length+2,text:"죄송합니다. 일시적인 오류가 발생했습니다. 잠시 후 다시 시도해주세요.",isUser:!1,timestamp:new Date};t(e=>[...e,s])}finally{u(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-background flex flex-col",children:[r.jsx(l.Z,{}),(0,r.jsxs)("main",{className:"flex-1 flex flex-col max-w-4xl mx-auto w-full px-4 pt-20",children:[(0,r.jsxs)("div",{className:"text-center py-4 md:py-6 flex-shrink-0",children:[(0,r.jsxs)("div",{className:"relative w-20 h-20 md:w-24 md:h-24 mx-auto mb-3 md:mb-4",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 via-green-500 to-green-600 rounded-full shadow-xl animate-pulse"}),r.jsx("div",{className:"absolute inset-2 bg-gradient-to-br from-green-300 via-green-400 to-green-500 rounded-full shadow-lg"}),r.jsx("div",{className:"absolute inset-3 bg-white rounded-full flex items-center justify-center overflow-hidden shadow-inner hover:scale-105 transition-transform duration-300",children:r.jsx(m.default,{src:"/farmento.png",alt:"팜멘토 캐릭터",width:64,height:64,className:"object-cover w-full h-full p-1 md:p-2"})}),r.jsx("div",{className:"absolute top-1 left-1 w-3 h-3 md:w-4 md:h-4 bg-white/30 rounded-full animate-ping"}),r.jsx("div",{className:"absolute bottom-2 right-2 w-2 h-2 md:w-3 md:h-3 bg-white/40 rounded-full animate-pulse"})]}),r.jsx(d.mt,{className:"bg-gradient-to-r from-green-600 to-green-800 bg-clip-text text-transparent mb-1 md:mb-2",children:"팜멘토 챗봇"}),r.jsx(d.t,{className:"text-muted-foreground font-medium",children:"농업 전문 AI 어시스턴트"})]}),r.jsx(o.Zb,{className:"flex-1 bg-card mb-4 flex flex-col min-h-0",children:(0,r.jsxs)(o.aY,{className:"flex-1 flex flex-col p-4 md:p-6",children:[(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-3 md:space-y-4 mb-4",children:[e.map(e=>r.jsx("div",{className:`flex ${e.isUser?"justify-end":"justify-start"}`,children:(0,r.jsxs)("div",{className:`max-w-[92%] md:max-w-2xl lg:max-w-3xl px-3 py-2 md:px-4 md:py-3 rounded-lg ${e.isUser?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:[r.jsx("div",{className:"break-words",children:f(e.text)}),r.jsx(d.Tu,{className:"opacity-70 mt-1 block",children:e.timestamp.toLocaleTimeString()})]})},e.id)),r.jsx("div",{ref:h})]}),r.jsx("div",{className:"text-center flex-shrink-0",children:r.jsx(d.Tu,{className:"text-gray-400",children:"* RAG 기반 챗봇 연동 예정"})})]})})]}),r.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border p-4 z-10",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto flex gap-2",children:[r.jsx(n.I,{value:s,onChange:e=>x(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g())},placeholder:"농업 관련 질문을 입력하세요...",className:"flex-1"}),r.jsx(i.z,{onClick:g,disabled:p,className:"bg-primary text-primary-foreground px-4 md:px-6",children:p?"전송 중...":"전송"})]})}),r.jsx("div",{className:"h-20 md:h-24"})]})}},6991:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(7247),a=s(8964),l=s(5008);let i=a.forwardRef(({className:e,type:t,...s},a)=>r.jsx("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));i.displayName="Input"},4274:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(5347).createProxy)(String.raw`C:\Users\10\Desktop\front\agrilook\app\chatbot\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[138,208,906,300],()=>s(824));module.exports=r})();